---
title: "mics_disaggregation_learner_md"
author: "Sunmin Lee"
date: "2/1/2021"
output:
  pdf_document: default
  html_document: default
---

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

```{r load packages}
library(dplyr)
library(readr)
library(collapse) # Refer to https://github.com/SebKrantz/collapse
```

Import micro data (change this path to your directory!)

```{r import data}
micro_data <- read_csv("/Users/sunminlee/Desktop/gemr/disaggregation/MICS_BEN_2014.csv")
#View(micro_data)
```

## Identify education level to use as a threshold

Check the summary stats (mean) of "literacy" by "comp_prim"

```{r Mean of literacy by primary completion}
collapse <- collap(micro_data, literacy_1549 ~ comp_prim, FUN = list(fmean))
collapse
```

Check the summary stats (mean) of "literacy" by "comp_prim" and "comp_lowsec"

```{r Mean of literacy by primary and lower secondary completion}
collapse <- collap(micro_data, literacy_1549 ~ comp_prim + comp_lowsec, FUN = list(fmean))
collapse
```

Check the summary stats (mean) of "literacy" by "comp_prim" and "comp_lowsec"

```{r Mean of literacy by primary and lower and upper secondary completion}
collapse <- collap(micro_data, literacy_1549 ~ comp_prim + comp_lowsec + comp_upsec, FUN = list(fmean))
collapse
```

Identified threshold education level: comp_prim

## Add more variables to compare

```{r Mean of edu years by primary completion}
collapse <- collap(micro_data, edu4_2024 + eduyears_2024 ~ comp_prim, FUN = list(fmean))
collapse
```

```{r Mean of eduout by primary completion}
collapse <- collap(micro_data, eduout_prim + eduout_lowsec + eduout_upsec + eduout ~ comp_prim, FUN = list(fmean))
collapse
```

```{r Mean of age by primary completion}
collapse <- collap(micro_data, age + age_adjusted ~ comp_prim, FUN = list(fmean))
collapse
```

```{r Mean of attend by primary completion}
collapse <- collap(micro_data, attend + attend_preschool + attend_higher ~ comp_prim, FUN = list(fmean))
collapse
```


